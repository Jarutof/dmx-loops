<div class="view grid" [ngStyle]="{'grid-template-rows': view.editGroups.topArea + 'px 1fr' }">
  <div class="topArea">
    <div>
      <button (click)="addGroupChannel()">create channel of group</button>
      <button (click)="saveFile()">save</button>
      <button (click)="model.saveBinary()">saveBin</button>
    </div>  
    <div>
      <input #inputCount type="number" min="0" max="99" size="1" maxlength="2">
      <button (click)="addGroupChannels(inputCount.value)">create channels</button>
      <button (click)="addGroupChannelsCopy(inputCount.value)">create channels</button>
      <button *ngIf="model.selectedGroupChannel" (click)="deleteChannel()">delete channel</button>
      <button *ngIf="model.selectedGroupElement" (click)="deleteElement()">delete element</button>
    </div>
  </div>
  
  <div class="leftArea" [ngStyle]="{'height': view.editGroups.height + 'px'}">
    <div *ngFor="let group of model.groups; let i = index">
      <app-group-box [channelGroup]=group *ngIf="gb.canDrag && indexDragChannelGroup == -1"></app-group-box>
      <app-group-box [channelGroup]=group #gb style="border-radius: 5px;" [ngStyle]=
        "gb.canDrag && indexDragChannelGroup == -1 ? { 
        'z-index': '2',
        'position':'absolute',
        
        'width': dragSize.width + 'px',
        'height': dragSize.height + 'px',
        'top' : drag.y + 'px',
        'left' : drag.x + 'px' } : { 'position':'relative','z-index': '0'}" 
      (onDragStart)="onGroupDragStart($event, gb, group, i);" 
      (onDrag)="onGroupDrag($event, gb, group, i, container);"
      (onDragEnd)="onGroupDragEnd($event, gb, group, i);" 
      ></app-group-box>
    </div>
  </div>
  <div #container class="midArea" [ngStyle]="{'height': view.editGroups.height + 'px'}">
    <app-group-channel #groupChannel 
    (onMouseEnter)="onChannelMouseEnter($event, groupChannel, i)"
    (onresize)="onChanelResize($event)"
    (ondrag)="onGroupElementDrag($event, i, container)"
     *ngFor="let gc of model.groupChannels; let i = index" 
     [ngStyle]="{'height': channelHeight + 'px', 'width': channelWidth + 'px'}"
     [groupChannel]="gc"
     [channelId]="i"
     ></app-group-channel>
  </div>
  <div class="rightArea" [ngStyle]="{'height': view.editGroups.height + 'px'}"> 
    <app-hideable-container headerName="decrease">
      <input #inpChanNumb0 type="number" min="0" max="512" size="1">
      <button (click)="onButtonDecreaseMod(inpChanNumb0.value)" style="width: 100%;">apply</button>
    </app-hideable-container>
    
    <app-hideable-container headerName="increase">
      <input #inpChanNumb1 type="number" min="0" max="512" size="1">
      <button (click)="onButtonIncreaseMod(inpChanNumb1.value)" style="width: 100%;">apply</button>
    </app-hideable-container>
    <app-hideable-container headerName="rotation">
        <input #chanRot type="number" min="0" max="512" size="1">
        <button (click)="onButtonRotation(chanRot.value)" style="width: 100%;">apply</button>
    </app-hideable-container>
    <app-hideable-container headerName="tilt" >
      <div style="display: flex; flex-direction: column">
        <div class="effectContent">
          <div>
            x
          </div>
          <input #chanTiltX type="number" min="0" max="512" >
        </div> 
        <div class="effectContent">
          <div>
            y
          </div>
          <input #chanTiltY type="number" min="0" max="512">
        </div>
        <div class="effectContent">
          <div>
            power
          </div>
          <input #chanTiltPow type="range" min="0" max="100" style="width: 80px">
        </div>
        <button (click)="onButtonTilt(chanTiltX.value, chanTiltY.value, chanTiltPow.value)" style="width: 100%;">apply</button>
      </div>
    </app-hideable-container>
  </div>
</div>